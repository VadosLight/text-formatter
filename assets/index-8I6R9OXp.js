import{a as f,g as P,s as B,B as W,f as L,m as V,r as d,u as D,n as F,o as E,j as n,d as O,e as A,i as u,k as G,l as g}from"./index-CBAZA3Qx.js";import{L as S,S as H,T as $}from"./TextField-DQ1KY-c1.js";import{P as U}from"./PageWrapper-DAKekbDO.js";const h=f("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),J=f("MuiListItemIcon",["root","alignItemsFlexStart"]),k=f("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function z(e){return P("MuiMenuItem",e)}const p=f("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Q=(e,t)=>{const{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.divider&&t.divider,!r.disableGutters&&t.gutters]},q=e=>{const{disabled:t,dense:r,divider:s,disableGutters:o,selected:a,classes:l}=e,c=A({root:["root",r&&"dense",t&&"disabled",!o&&"gutters",s&&"divider",a&&"selected"]},z,l);return{...l,...c}},K=B(W,{shouldForwardProp:e=>L(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Q})(V(({theme:e})=>({...e.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${p.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:u(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${p.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:u(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${p.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:u(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:u(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${p.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${p.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${h.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${h.inset}`]:{marginLeft:52},[`& .${k.root}`]:{marginTop:0,marginBottom:0},[`& .${k.inset}`]:{paddingLeft:36},[`& .${J.root}`]:{minWidth:36},variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>!t.dense,style:{[e.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:t})=>t.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...e.typography.body2,[`& .${J.root} svg`]:{fontSize:"1.25rem"}}}]}))),v=d.forwardRef(function(t,r){const s=D({props:t,name:"MuiMenuItem"}),{autoFocus:o=!1,component:a="li",dense:l=!1,divider:i=!1,disableGutters:c=!1,focusVisibleClassName:b,role:w="menuitem",tabIndex:y,className:M,...R}=s,j=d.useContext(S),C=d.useMemo(()=>({dense:l||j.dense||!1,disableGutters:c}),[j.dense,l,c]),x=d.useRef(null);F(()=>{o&&x.current&&x.current.focus()},[o]);const T={...s,dense:C.dense,divider:i,disableGutters:c},m=q(s),N=E(x,r);let I;return s.disabled||(I=y!==void 0?y:-1),n.jsx(S.Provider,{value:C,children:n.jsx(K,{ref:N,role:w,tabIndex:I,component:a,focusVisibleClassName:O(m.focusVisible,b),className:O(m.root,M),...R,ownerState:T,classes:m})})}),X=e=>e.replace(/\r?\n/g,"").replace(/\t/g,"").replace(/\s+/g," ").replace(/"\s+}/g,'"}').replace(/{\s+"/g,'{"').replace(/:\s+"/g,': "').replace(/"\s+:/g,'":').replace(/"/g,'\\"').trim(),Y=e=>e.replace(/\\"/g,'"').replace(/\\n/g,`
`),Z=e=>{let t="",r=!1,s="";for(let o=0;o<e.length;o++){const a=e[o];if(a==='"'&&s!=="\\"){r=!r,t+='\\"',s=a;continue}if(r){t+=a,s=a;continue}if(a===`
`||a==="\r"){s=a;continue}if(a===" "||a==="	"){s=a;continue}if(a==='"'){t+='\\"',s=a;continue}t+=a,s=a}return t.trim()},_=()=>{const[e,t]=d.useState(""),[r,s]=d.useState(""),[o,a]=d.useState("object-to-json"),l=G(e,1e3);return d.useEffect(()=>{if(!l.trim()){s("");return}try{if(o==="object-to-json"){const i=new Function("return "+l)(),c=JSON.stringify(i);s(X(c))}else if(o==="json-to-object"){const i=Y(l),c=JSON.parse(i),b=JSON.stringify(c,null,2);s(b)}else o==="json-jinja-to-string"&&s(Z(l))}catch(i){s("Ошибка: "+i.message)}},[l,o]),n.jsxs(g,{sx:{backgroundColor:"AppWorkspace",borderRadius:1,padding:2,display:"flex",flexDirection:"column",gap:2,width:"100%"},children:[n.jsx(g,{sx:{display:"flex",alignItems:"center"},children:n.jsxs(H,{value:o,onChange:i=>a(i.target.value),fullWidth:!0,children:[n.jsx(v,{value:"object-to-json",children:"JS объект → JSON с экранированными кавычками"}),n.jsx(v,{value:"json-to-object",children:"JSON с экранированными кавычками → JS объект"}),n.jsx(v,{value:"json-jinja-to-string",children:"JSON со вставками Jinja → Строка с экранированными символами"})]})}),n.jsx(g,{sx:{backgroundColor:"AppWorkspace",padding:1,gap:1,display:"flex"},children:n.jsx($,{multiline:!0,fullWidth:!0,minRows:10,maxRows:20,label:o==="object-to-json"?"JS объект":"JSON с экранированными кавычками",value:e,onChange:i=>t(i.currentTarget.value)})}),n.jsx(g,{maxHeight:500,sx:{backgroundColor:"AppWorkspace",padding:1,gap:1,display:"flex"},children:n.jsx($,{multiline:!0,fullWidth:!0,minRows:10,maxRows:20,label:o==="object-to-json"?"JSON с экранированными кавычками":"JS объект",value:r,InputProps:{readOnly:!0}})})]})},ae=()=>n.jsx(U,{children:n.jsx(_,{})});export{ae as default};
