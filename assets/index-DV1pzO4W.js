import{a as f,g as P,s as B,B as W,f as L,m as V,r as c,u as D,n as F,o as E,j as s,d as O,e as A,i as u,k as G,l as g}from"./index-C5g1Qd9s.js";import{L as S,S as H,T as $}from"./TextField-DsSheaCF.js";import{P as U}from"./PageWrapper-CNkHfLHf.js";const J=f("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),k=f("MuiListItemIcon",["root","alignItemsFlexStart"]),w=f("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function z(e){return P("MuiMenuItem",e)}const d=f("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),q=(e,t)=>{const{ownerState:i}=e;return[t.root,i.dense&&t.dense,i.divider&&t.divider,!i.disableGutters&&t.gutters]},K=e=>{const{disabled:t,dense:i,divider:a,disableGutters:o,selected:p,classes:n}=e,l=A({root:["root",i&&"dense",t&&"disabled",!o&&"gutters",a&&"divider",p&&"selected"]},z,n);return{...n,...l}},Q=B(W,{shouldForwardProp:e=>L(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:q})(V(({theme:e})=>({...e.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${d.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:u(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${d.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:u(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${d.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:u(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:u(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${d.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${d.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${J.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${J.inset}`]:{marginLeft:52},[`& .${w.root}`]:{marginTop:0,marginBottom:0},[`& .${w.inset}`]:{paddingLeft:36},[`& .${k.root}`]:{minWidth:36},variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>!t.dense,style:{[e.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:t})=>t.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...e.typography.body2,[`& .${k.root} svg`]:{fontSize:"1.25rem"}}}]}))),v=c.forwardRef(function(t,i){const a=D({props:t,name:"MuiMenuItem"}),{autoFocus:o=!1,component:p="li",dense:n=!1,divider:r=!1,disableGutters:l=!1,focusVisibleClassName:b,role:h="menuitem",tabIndex:y,className:M,...R}=a,j=c.useContext(S),C=c.useMemo(()=>({dense:n||j.dense||!1,disableGutters:l}),[j.dense,n,l]),x=c.useRef(null);F(()=>{o&&x.current&&x.current.focus()},[o]);const T={...a,dense:C.dense,divider:r,disableGutters:l},m=K(a),N=E(x,i);let I;return a.disabled||(I=y!==void 0?y:-1),s.jsx(S.Provider,{value:C,children:s.jsx(Q,{ref:N,role:h,tabIndex:I,component:p,focusVisibleClassName:O(m.focusVisible,b),className:O(m.root,M),...R,ownerState:T,classes:m})})}),X=e=>e.replace(/\r?\n/g,"").replace(/\t/g,"").replace(/\s+/g," ").replace(/"\s+}/g,'"}').replace(/{\s+"/g,'{"').replace(/:\s+"/g,': "').replace(/"\s+:/g,'":').replace(/"/g,'\\"').trim(),Y=e=>e.replace(/\\"/g,'"').replace(/\\n/g,`
`),Z=e=>e.replace(/\n/g,"\\n").replace(/\t/g,"").replace(/\s+/g," ").replace(/"\s+}/g,'"}').replace(/{\s+"/g,'{"').replace(/:\s+"/g,': "').replace(/"\s+:/g,'":').replace(/{{/g,"\\{{").replace(/}}/g,"\\}}").replace(/{%\s*/g,"\\{%").replace(/\s*%}/g,"%\\}").replace(/\\n/g,"\\\\n").replace(/"/g,'\\"').replace(/\\\\n/g,"\\n").trim(),_=()=>{const[e,t]=c.useState(""),[i,a]=c.useState(""),[o,p]=c.useState("object-to-json"),n=G(e,1e3);return c.useEffect(()=>{if(!n.trim()){a("");return}try{if(o==="object-to-json"){const r=new Function("return "+n)(),l=JSON.stringify(r);a(X(l))}else if(o==="json-to-object"){const r=Y(n),l=JSON.parse(r),b=JSON.stringify(l,null,2);a(b)}else o==="json-jinja-to-string"&&a(Z(n))}catch(r){a("Ошибка: "+r.message)}},[n,o]),s.jsxs(g,{sx:{backgroundColor:"AppWorkspace",borderRadius:1,padding:2,display:"flex",flexDirection:"column",gap:2,width:"100%"},children:[s.jsx(g,{sx:{display:"flex",alignItems:"center"},children:s.jsxs(H,{value:o,onChange:r=>p(r.target.value),fullWidth:!0,children:[s.jsx(v,{value:"object-to-json",children:"JS объект → JSON с экранированными кавычками"}),s.jsx(v,{value:"json-to-object",children:"JSON с экранированными кавычками → JS объект"}),s.jsx(v,{value:"json-jinja-to-string",children:"JSON со вставками Jinja → Строка с экранированными символами"})]})}),s.jsx(g,{sx:{backgroundColor:"AppWorkspace",padding:1,gap:1,display:"flex"},children:s.jsx($,{multiline:!0,fullWidth:!0,minRows:10,maxRows:20,label:o==="object-to-json"?"JS объект":"JSON с экранированными кавычками",value:e,onChange:r=>t(r.currentTarget.value)})}),s.jsx(g,{maxHeight:500,sx:{backgroundColor:"AppWorkspace",padding:1,gap:1,display:"flex"},children:s.jsx($,{multiline:!0,fullWidth:!0,minRows:10,maxRows:20,label:o==="object-to-json"?"JSON с экранированными кавычками":"JS объект",value:i,InputProps:{readOnly:!0}})})]})},ae=()=>s.jsx(U,{children:s.jsx(_,{})});export{ae as default};
